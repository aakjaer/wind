jQuery.ajax=function(a){function b(a){return!e.test(a)&&/:\/\//.test(a)}var c=location.protocol,d=location.hostname,e=new RegExp(c+"//"+d),f="http"+(/^https/.test(c)?"s":"")+"://query.yahooapis.com/v1/public/yql?callback=?",g='select * from html where url="{URL}" and xpath="*"';return function(c){var d=c.url;return/get/i.test(c.type)&&!/json/i.test(c.dataType)&&b(d)&&(c.url=f,c.dataType="json",c.data={q:g.replace("{URL}",d+(c.data?(/\?/.test(d)?"&":"?")+jQuery.param(c.data):"")),format:"xml"},!c.success&&c.complete&&(c.success=c.complete,delete c.complete),c.success=function(a){return function(b){a&&a.call(this,{responseText:(b.results[0]||"").replace(/<script[^>]+?\/>|<script(.|\s)*?\/script>/gi,"")},"success")}}(c.success)),a.apply(this,arguments)}}(jQuery.ajax),function(){$(document).ready(function(){function a(){$.each(j,function(a,c){e(c.id,c.name),b(h,c.id,c.name)})}function b(a,b){a.match("^http")&&$.getJSON("https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20html%20where%20url%3D%22"+encodeURIComponent(a)+b+"%22&format=xml&callback=?",function(a){if(a.results[0]){var e=c(a.results[0]),f=d(e);g(f,b)}else console.log("not working dummy!")})}function c(a){return a=a.replace(/<?\/body[^>]*>/g,""),a=a.replace(/[\r|\n]+/g,""),a=a.replace(/<--[\S\s]*?-->/g,""),a=a.replace(/<noscript[^>]*>[\S\s]*?<\/noscript>/g,""),a=a.replace(/<script[^>]*>[\S\s]*?<\/script>/g,""),a=a.replace(/<script.*\/>/,""),a=a.replace(/<img.*\/>/,"")}function d(a){var b=".*?",c="((?:(?:[0-1][0-9])|(?:[2][0-3])|(?:[0-9])):(?:[0-5][0-9])(?::[0-5][0-9])?(?:\\s?(?:am|AM|pm|PM))?)",d=".*?",e="(\\d+)",f=".*?",g="([+-]?\\d*\\.\\d+)(?![-+0-9\\.])",h=".*?",i="([+-]?\\d*\\.\\d+)(?![-+0-9\\.])",j=new RegExp(b+c+d+e+f+g+h+i,["i"]),k=j.exec(a);if(null!=k){var l=k[1].replace(/</,"&lt;"),m=k[2].replace(/</,"&lt;"),n=k[3].replace(/</,"&lt;"),o=k[4].replace(/</,"&lt;");return{angle:m,speed:n,timestamp:l,temperature:o}}}function e(a,b){0===$("#content .weather-stations").length&&$("#content").append('<ul class="weather-stations list-unstyled"></ul>');var c='<li class="station station-'+a+'" ><a data-toggle="collapse" data-target="#details-'+a+'"><div class="row"><div class="col-xs-6"><h3>'+b+'</h3></div><div class="col-xs-6 text-right"><span class="speed"><b>0.0</b> m/s</span><div class="wind-direction"><i class="wind-arrow fa fa-long-arrow-down"></i></div></div></div></a><div id="details-'+a+'" class="station-details-container collapse"><figure class="station-chart"><img src="'+i+a+'&param=wind" /></figure><div class="station-details text-center"><i class="fa fa-clock-o"></i> <time class="station-timestamp"></time> - <span class="station-temperature"></span> &deg;C</div></div></li>';return $("#content .weather-stations").append(c),c}function f(a,b){$(a[0]).css("-moz-transform","rotate("+b+"deg)"),$(a[0]).css("-webkit-transform","rotate("+b+"deg)"),$(a[0]).css("-ms-transform","rotate("+b+"deg)"),$(a[0]).css("-o-transform","rotate("+b+"deg)")}function g(a,b){var c=$(".weather-stations li.station-"+b);$(c).find(".speed b").html(a.speed),$(c).find(".degrees").html(a.angle+"&deg;"),f($(c).find(".wind-arrow"),a.angle),$(c).find(".station-timestamp").html(a.timestamp),$(c).find(".station-temperature").html(a.temperature),c.removeClass("hidden").addClass("in")}var h=($("#target"),"http://servlet.dmi.dk/bv/servlet/bv?stat="),i="http://servlet.dmi.dk/bv/servlet/bvImage?stat=",j=[{name:"Drogden",id:"6183"},{name:"Kbh lufthavn",id:"6180"},{name:"Gniben",id:"6169"},{name:"Jægerspris",id:"56"},{name:"Nakkehoved Fyr",id:"6168"},{name:"Kraneled",id:"1350"},{name:"Vindebæk Kyst",id:"6147"},{name:"Langø",id:"6138"},{name:"Thorsminde",id:"6052"}];a(h)})}();